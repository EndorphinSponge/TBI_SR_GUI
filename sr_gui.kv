#:kivy 2.1.0

<CPopup>:
    title: "Please wait..."
    size_hint: 0.7, 0.25
    auto_dismiss: False
    Label:
        text: 'Checking drugs against database'
        text_size: self.width, None
        padding: dp(10), dp(10)

<CButton>:
    size: self.texture_size
    padding: dp(10), dp(10)
    
<CScrollView>:
    id: cscrollview
    size_hint_y: None # Set size_hint to none to manual set height
    height: sp(30)
    BoxLayout:
        id: button_box
        orientation: 'horizontal'
        size_hint_x: None
        width: self.minimum_width

<CBoxLayout>:
    orientation: "horizontal"
    BoxLayout:
        orientation: "vertical"
        size_hint_x: 0.35
        TextInput:
            id: factors
            write_tab: False
            hint_text: "Factors"
            on_text: root.genOutput()
        TextInput:
            id: f_mod
            write_tab: False
            size_hint_y: 0.2
            hint_text: "Factor modifiers, ';' delimited"
            on_text: root.genOutput()
        TextInput:
            id: outcomes
            write_tab: False
            size_hint_y: 0.4
            hint_text: "Outcomes"
            on_text: root.genOutput()
        TextInput:
            id: o_mod
            write_tab: False
            size_hint_y: 0.2
            hint_text: "Outcome modifiers, ';' delimited"
            on_text: root.genOutput()
        TextInput:
            id: analyses
            write_tab: False
            size_hint_y: 0.2
            hint_text: "Analyses"
            on_text: root.genOutput()
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.1
            Button:
                text: "Copy label"
                on_press: root.copyLabel() # Root always refers to base widge/template from current context
            Button:
                text: "Duplicate tab"
                on_press: root.dupeTab()
            Button:
                text: "Delete tab"
                on_press: root.removeTab()
                size_hint_x: 0.2
        ScrollView:
            do_scroll_y: True
            Label:
                id: output_label
                text: "Output text"
                size_hint_y: None
                size: self.texture_size


RootLayout:
    id: rootlayout
    # Can also directly access ids via <root element>.ids property
    do_default_tab: False # Remove default tab

    CTabbedPanelItem:
        text: "Tab 1"
        CBoxLayout:
        # BoxLayout:
        #     orientation: "horizontal"
        #     size_hint_y: None # Set size_hint to none to manual set height
        #     height: sp(120)
        #     TextInput:
        #         id: text_in1 # ID assigns the identifier of this object in the root object in python (i.e., RootLayout)
        #         hint_text: "Enter drug names separated by commas (,), semicolons (;), or new lines. Names are standardized before checking against Beers rules. Components of combination drugs should be separated by '/'"
        #         # height: 10
        #     Button:
        #         text: "Check\ndrugs"
        #         # height: 10
        #         size_hint_x: 0.2
        #         on_press: app.checkBeers()

        # TextInput:
        #     size_hint_y: None # Set size_hint to none to manual set height
        #     height: sp(30)
        #     id: creatinine # ID assigns the identifier of this object in the root object in python (i.e., RootLayout)
        #     hint_text: "Creatinine clearance (mL/min, optional)"
        #     multiline: False
        # AutoCompleter: # Inherits from TextInput
        #     id: autocompleter
        #     size_hint_y: None # Set size_hint to none to manual set height
        #     hint_text: "Standardized drug name lookup:"
        #     multiline: False
        #     height: sp(30)
        # ScrollView:
        #     id: scroll_view
        #     do_scroll_x: False
        #     do_scroll_y: True
        #     CTreeView:
        #         id: tree_view
        #         root_options: dict(text='Checking drug entries against database...')
        #         hide_root: True
        #         size_hint_y: None # Need to set this to none in order to use scrollview in the respective direction (x and y)
        #         height: self.minimum_height # Bind height (used for scroll) to minimum_height which changes when children are expanded
        #     # Accordion:
        #     #     id: accordion
        #     #     orientation: "vertical"
        #     #     size_hint_y: None # Need to set this to none in order to use scrollview in the respective direction (x and y)
        #     #     height: 50*8 # 50px for every element 

